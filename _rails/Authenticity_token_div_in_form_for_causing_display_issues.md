---
title: Authenticity token div in form_for causing display issues
labels: actionview
layout: issue
---

I've run into a display issue being caused by the automatically added div within a form generated by form_for in Rails 3.2.3. Of course this div causes no problems for me in Chrome, FF, etc. but surprise, surprise, In IE 8/9, the div is causing me a display issue and because the styles are inline on the div, it's not as easy as it could be to fix.

Currently, the automatically added div, plus contents, looks something like this:

``` html
<div style="margin:0;padding:0;display:inline">
  <input name="utf8" type="hidden" value="&#x2713;" />
  <input name="_method" type="hidden" value="put" />
  <input name="authenticity_token" type="hidden" value="xyz" />
</div>
```

If the inline style on the div is changed to `display:none;` this seems to appease IE 8/9.

I came by this [old ticket on Lighthouse](https://rails.lighthouseapp.com/projects/8994/tickets/2846-form-authenticity-token-in-form-tag-should-be-set-to-displayinline) (marked as resolved) which discusses the issue and a possible change to `display:none` but it appears nothing has come of this? Alternatively, I could also see the addition of a class to the div as a workable solution, which may be a little more flexible than just adding `display:none;` inline.

Does anyone know why the change to `display:none;` apparently didn't go through?

